<!-- HTML header for doxygen 1.8.3.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<!-- Mirrored from janus.conf.meetecho.com/docs/janus_8c.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 25 Jul 2014 16:31:05 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>janus.c File Reference</title>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="css/bootstrap.css" rel="stylesheet">
<link href="css/demo.css" rel="stylesheet">
<script src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="doxy-boot.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<a href="https://github.com/meetecho/janus-gateway"><img style="position: absolute; top: 0; left: 0; border: 0; z-index: 1001;" src="../../s3.amazonaws.com/github/ribbons/forkme_left_darkblue_121621.png" alt="Fork me on GitHub"></a>
<nav class="navbar navbar-default navbar-static-top">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href=".html">Janus</a>
		<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
		</button>
	</div>
	<div class="navbar-collapse collapse">
		<ul class="nav navbar-nav">
			<li><a href="../index-2.html">Home</a></li>
			<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown">Demos <b class="caret"></b></a>
				<ul class="dropdown-menu">
					<li><a href="../demos.html">Index</a></li>
					<li class="divider"></li>
					<li><a href="../echotest.html">Echo Test</a></li>
					<li><a href="../streamingtest.html">Streaming</a></li>
					<li><a href="../videocalltest.html">Video Call</a></li>
					<li><a href="../siptest.html">SIP Gateway</a></li>
					<li><a href="../videomcutest.html">Video MCU</a></li>
					<li><a href="../audiobridgetest.html">Audio Conference</a></li>
					<li><a href="../voicemailtest.html">Voice Mail</a></li>
					<li><a href="../screensharingtest.html">Screen Sharing</a></li>
				</ul>
			</li>
			<li class="active"><a href="index-2.html">Documentation</a></li>
		</ul>
		<div class="navbar-header navbar-right">
			<ul id="topmenu" class="nav navbar-nav">
<!--
				<li>
					<form class="navbar-form navbar-left" role="search">
						<div class="form-group">
							<input type="text" class="form-control" placeholder="Search"/>
						</div>
					</form>
				</li>
-->
				<li><a href="http://groups.google.com/d/forum/meetecho-janus" class="navbar-link"><b>Discuss Janus</b></a></li>
				<li><a href="http://www.meetecho.com/" class="navbar-link"><img src="meetecho-logo-white.png"/> <b>Meetecho</b></a></li>
			</ul>
		</div>
	</div>
</div>
</nav>
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index-2.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">janus.c File Reference<div class="ingroups"><a class="el" href="group__core.html">Core</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Janus core.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;dlfcn.h&gt;</code><br/>
<code>#include &lt;dirent.h&gt;</code><br/>
<code>#include &lt;ifaddrs.h&gt;</code><br/>
<code>#include &lt;net/if.h&gt;</code><br/>
<code>#include &lt;signal.h&gt;</code><br/>
<code>#include &lt;getopt.h&gt;</code><br/>
<code>#include &lt;sys/resource.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="janus_8h_source.html">janus.h</a>&quot;</code><br/>
<code>#include &quot;cmdline.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="config_8h_source.html">config.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="apierror_8h_source.html">apierror.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="rtcp_8h_source.html">rtcp.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="sdp_8h_source.html">sdp.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="utils_8h_source.html">utils.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for janus.c:</div>
<div class="dyncontent">
<div class="center"><img src="janus_8c__incl.png" border="0" usemap="#janus_8c" alt=""/></div>
<map name="janus_8c" id="janus_8c">
<area shape="rect" id="node17" href="janus_8h.html" title="Janus core (headers)" alt="" coords="733,80,797,107"/><area shape="rect" id="node61" href="utils_8h.html" title="Utilities and helpers (headers)" alt="" coords="145,229,201,256"/><area shape="rect" id="node74" href="apierror_8h.html" title="Janus API errors definition." alt="" coords="1253,304,1341,331"/><area shape="rect" id="node86" href="config_8h.html" title="Configuration files parsing (headers)" alt="" coords="1403,80,1471,107"/><area shape="rect" id="node91" href="rtcp_8h.html" title="RTCP processing (headers)" alt="" coords="1477,229,1531,256"/><area shape="rect" id="node99" href="sdp_8h.html" title="SDP processing (headers)" alt="" coords="1102,80,1156,107"/><area shape="rect" id="node37" href="mutex_8h.html" title="Semaphors and Mutexes." alt="" coords="407,155,476,181"/><area shape="rect" id="node41" href="dtls_8h.html" title="DTLS/SRTP processing (headers)" alt="" coords="354,229,408,256"/><area shape="rect" id="node52" href="sctp_8h.html" title="sctp.h" alt="" coords="452,304,511,331"/><area shape="rect" id="node54" href="ice_8h.html" title="ICE/STUN/TURN processing (headers)" alt="" coords="601,155,652,181"/><area shape="rect" id="node65" href="plugin_8h.html" title="Plugin&#45;Gateway communication." alt="" coords="828,229,940,256"/><area shape="rect" id="node76" href="debug_8h.html" title="Logging and Debugging." alt="" coords="855,304,935,331"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a5e8bd05ce7ef1ce839841c2a9d3515b6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#a5e8bd05ce7ef1ce839841c2a9d3515b6">JANUS_NAME</a>&#160;&#160;&#160;&quot;Janus WebRTC Gateway&quot;</td></tr>
<tr class="separator:a5e8bd05ce7ef1ce839841c2a9d3515b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafab312c087c0bdc5d4d2966d84a4264"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#aafab312c087c0bdc5d4d2966d84a4264">JANUS_AUTHOR</a>&#160;&#160;&#160;&quot;Meetecho s.r.l.&quot;</td></tr>
<tr class="separator:aafab312c087c0bdc5d4d2966d84a4264"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aa2b2fa3e8eebb1b112d599b154b3d9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#a5aa2b2fa3e8eebb1b112d599b154b3d9">JANUS_VERSION</a>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a5aa2b2fa3e8eebb1b112d599b154b3d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd1368051b63c2d6307df98f7b06268d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#afd1368051b63c2d6307df98f7b06268d">JANUS_VERSION_STRING</a>&#160;&#160;&#160;&quot;0.0.4&quot;</td></tr>
<tr class="separator:afd1368051b63c2d6307df98f7b06268d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e344464ec3db9d477ea947555d7e7b9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#a3e344464ec3db9d477ea947555d7e7b9">SESSION_TIMEOUT</a>&#160;&#160;&#160;60		/* FIXME Should this be higher, e.g., 120 seconds? */</td></tr>
<tr class="separator:a3e344464ec3db9d477ea947555d7e7b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4fa0fafa7850f0d4d51acdf994b1b4cd"><td class="memItemLeft" align="right" valign="top">gchar *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#a4fa0fafa7850f0d4d51acdf994b1b4cd">janus_get_server_pem</a> ()</td></tr>
<tr class="memdesc:a4fa0fafa7850f0d4d51acdf994b1b4cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to return the path to the provided server certificate.  <a href="#a4fa0fafa7850f0d4d51acdf994b1b4cd">More...</a><br/></td></tr>
<tr class="separator:a4fa0fafa7850f0d4d51acdf994b1b4cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a1814e1f55d232b26c17d2093480a4a"><td class="memItemLeft" align="right" valign="top">gchar *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#a5a1814e1f55d232b26c17d2093480a4a">janus_get_server_key</a> ()</td></tr>
<tr class="memdesc:a5a1814e1f55d232b26c17d2093480a4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to return the path to the provided server certificate key.  <a href="#a5a1814e1f55d232b26c17d2093480a4a">More...</a><br/></td></tr>
<tr class="separator:a5a1814e1f55d232b26c17d2093480a4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a819d13307a0dd4ccd6a9fb9fca7c8bd1"><td class="memItemLeft" align="right" valign="top">gchar *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#a819d13307a0dd4ccd6a9fb9fca7c8bd1">janus_get_local_ip</a> ()</td></tr>
<tr class="memdesc:a819d13307a0dd4ccd6a9fb9fca7c8bd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to return the local IP address (autodetected by default)  <a href="#a819d13307a0dd4ccd6a9fb9fca7c8bd1">More...</a><br/></td></tr>
<tr class="separator:a819d13307a0dd4ccd6a9fb9fca7c8bd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62aa4ec368311be715b36fe1b972e5cd"><td class="memItemLeft" align="right" valign="top">gchar *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#a62aa4ec368311be715b36fe1b972e5cd">janus_get_public_ip</a> ()</td></tr>
<tr class="memdesc:a62aa4ec368311be715b36fe1b972e5cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to return the IP address to use in the SDP (autodetected by default)  <a href="#a62aa4ec368311be715b36fe1b972e5cd">More...</a><br/></td></tr>
<tr class="separator:a62aa4ec368311be715b36fe1b972e5cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a982d4746e52a24a4b4b4d9fe89771a4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#a982d4746e52a24a4b4b4d9fe89771a4b">janus_set_public_ip</a> (const char *ip)</td></tr>
<tr class="memdesc:a982d4746e52a24a4b4b4d9fe89771a4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to overwrite the IP address to use in the SDP.  <a href="#a982d4746e52a24a4b4b4d9fe89771a4b">More...</a><br/></td></tr>
<tr class="separator:a982d4746e52a24a4b4b4d9fe89771a4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b51f93a7e5627308cc9e49025be523c"><td class="memItemLeft" align="right" valign="top">gint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#a0b51f93a7e5627308cc9e49025be523c">janus_is_stopping</a> ()</td></tr>
<tr class="memdesc:a0b51f93a7e5627308cc9e49025be523c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to check whether the gateway is being shut down.  <a href="#a0b51f93a7e5627308cc9e49025be523c">More...</a><br/></td></tr>
<tr class="separator:a0b51f93a7e5627308cc9e49025be523c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac72c6225354cf9861aabd44fee02ca68"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#ac72c6225354cf9861aabd44fee02ca68">janus_handle_signal</a> (int signum)</td></tr>
<tr class="memdesc:ac72c6225354cf9861aabd44fee02ca68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal handler (just used to intercept CTRL+C)  <a href="#ac72c6225354cf9861aabd44fee02ca68">More...</a><br/></td></tr>
<tr class="separator:ac72c6225354cf9861aabd44fee02ca68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77d6c93f18e1219bab4de772b5f3c294"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#a77d6c93f18e1219bab4de772b5f3c294">janus_sessions_watchdog</a> (void *data)</td></tr>
<tr class="separator:a77d6c93f18e1219bab4de772b5f3c294"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef21c805db4c126945e0030053cede13"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structjanus__session.html">janus_session</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#aef21c805db4c126945e0030053cede13">janus_session_create</a> (guint64 session_id)</td></tr>
<tr class="memdesc:aef21c805db4c126945e0030053cede13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to create a new Janus Gateway-Client session.  <a href="#aef21c805db4c126945e0030053cede13">More...</a><br/></td></tr>
<tr class="separator:aef21c805db4c126945e0030053cede13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58ab77de530f2376661a2cbbe8d60137"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structjanus__session.html">janus_session</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#a58ab77de530f2376661a2cbbe8d60137">janus_session_find</a> (guint64 session_id)</td></tr>
<tr class="memdesc:a58ab77de530f2376661a2cbbe8d60137"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to find an existing Janus Gateway-Client session from its ID.  <a href="#a58ab77de530f2376661a2cbbe8d60137">More...</a><br/></td></tr>
<tr class="separator:a58ab77de530f2376661a2cbbe8d60137"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcd05e074a1d76d342ffd613409402ac"><td class="memItemLeft" align="right" valign="top">gint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#adcd05e074a1d76d342ffd613409402ac">janus_session_destroy</a> (guint64 session_id)</td></tr>
<tr class="memdesc:adcd05e074a1d76d342ffd613409402ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to destroy a Janus Gateway-Client session.  <a href="#adcd05e074a1d76d342ffd613409402ac">More...</a><br/></td></tr>
<tr class="separator:adcd05e074a1d76d342ffd613409402ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea9f5bed2809be66e16a1fdff5f21d89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#aea9f5bed2809be66e16a1fdff5f21d89">janus_session_free</a> (<a class="el" href="structjanus__session.html">janus_session</a> *session)</td></tr>
<tr class="memdesc:aea9f5bed2809be66e16a1fdff5f21d89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to actually free the resources allocated by a Janus Gateway-Client session.  <a href="#aea9f5bed2809be66e16a1fdff5f21d89">More...</a><br/></td></tr>
<tr class="separator:aea9f5bed2809be66e16a1fdff5f21d89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07aaf3636698a77b3ae2be32e1bab183"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#a07aaf3636698a77b3ae2be32e1bab183">janus_ws_handler</a> (void *cls, struct MHD_Connection *connection, const char *url, const char *method, const char *version, const char *upload_data, size_t *upload_data_size, void **ptr)</td></tr>
<tr class="memdesc:a07aaf3636698a77b3ae2be32e1bab183"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback (libmicrohttpd) invoked when an HTTP message (GET, POST, OPTIONS, etc.) is available.  <a href="#a07aaf3636698a77b3ae2be32e1bab183">More...</a><br/></td></tr>
<tr class="separator:a07aaf3636698a77b3ae2be32e1bab183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d91e8b7c6a03a07c4b53dab3582f708"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#a4d91e8b7c6a03a07c4b53dab3582f708">janus_process_incoming_request</a> (<a class="el" href="structjanus__request__source.html">janus_request_source</a> *source, json_t *root)</td></tr>
<tr class="memdesc:a4d91e8b7c6a03a07c4b53dab3582f708"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to process an incoming request, no matter where it comes from.  <a href="#a4d91e8b7c6a03a07c4b53dab3582f708">More...</a><br/></td></tr>
<tr class="separator:a4d91e8b7c6a03a07c4b53dab3582f708"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a852c78e87fd35078590aef27eb28ecb8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#a852c78e87fd35078590aef27eb28ecb8">janus_ws_headers</a> (void *cls, enum MHD_ValueKind kind, const char *key, const char *value)</td></tr>
<tr class="memdesc:a852c78e87fd35078590aef27eb28ecb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback (libmicrohttpd) invoked when headers of an incoming HTTP message have been parsed.  <a href="#a852c78e87fd35078590aef27eb28ecb8">More...</a><br/></td></tr>
<tr class="separator:a852c78e87fd35078590aef27eb28ecb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc9f9e96a9b7d3f8df0fd9f4b912385a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#abc9f9e96a9b7d3f8df0fd9f4b912385a">janus_ws_request_completed</a> (void *cls, struct MHD_Connection *connection, void **con_cls, enum MHD_RequestTerminationCode toe)</td></tr>
<tr class="memdesc:abc9f9e96a9b7d3f8df0fd9f4b912385a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback (libmicrohttpd) invoked when a request has been processed and can be freed.  <a href="#abc9f9e96a9b7d3f8df0fd9f4b912385a">More...</a><br/></td></tr>
<tr class="separator:abc9f9e96a9b7d3f8df0fd9f4b912385a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2561026e3fe9da0cb8110b1fce41c566"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#a2561026e3fe9da0cb8110b1fce41c566">janus_ws_notifier</a> (<a class="el" href="structjanus__request__source.html">janus_request_source</a> *source, int max_events)</td></tr>
<tr class="memdesc:a2561026e3fe9da0cb8110b1fce41c566"><td class="mdescLeft">&#160;</td><td class="mdescRight">Worker to handle requests that are actually long polls.  <a href="#a2561026e3fe9da0cb8110b1fce41c566">More...</a><br/></td></tr>
<tr class="separator:a2561026e3fe9da0cb8110b1fce41c566"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92b8b3a545ec83ad34c2db77ee9b967e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#a92b8b3a545ec83ad34c2db77ee9b967e">janus_process_success</a> (<a class="el" href="structjanus__request__source.html">janus_request_source</a> *source, const char *transaction, char *payload)</td></tr>
<tr class="memdesc:a92b8b3a545ec83ad34c2db77ee9b967e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to return a successful Janus response message (JSON) to the browser.  <a href="#a92b8b3a545ec83ad34c2db77ee9b967e">More...</a><br/></td></tr>
<tr class="separator:a92b8b3a545ec83ad34c2db77ee9b967e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8304db5951d072b9bb917ae74a2de471"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#a8304db5951d072b9bb917ae74a2de471">janus_process_error</a> (<a class="el" href="structjanus__request__source.html">janus_request_source</a> *source, const char *transaction, gint error, const char *format,...)</td></tr>
<tr class="memdesc:a8304db5951d072b9bb917ae74a2de471"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to return an error Janus response message (JSON) to the browser.  <a href="#a8304db5951d072b9bb917ae74a2de471">More...</a><br/></td></tr>
<tr class="separator:a8304db5951d072b9bb917ae74a2de471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8eaff57a2a2524bc9504ee2dedf10dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#aa8eaff57a2a2524bc9504ee2dedf10dd">janus_plugin_close</a> (gpointer key, gpointer value, gpointer user_data)</td></tr>
<tr class="separator:aa8eaff57a2a2524bc9504ee2dedf10dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6327332a0e32d79aa68d32c276a8d293"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#a6327332a0e32d79aa68d32c276a8d293">janus_pluginso_close</a> (gpointer key, gpointer value, gpointer user_data)</td></tr>
<tr class="separator:a6327332a0e32d79aa68d32c276a8d293"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2379d37b0d1026297202f660b341e6d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structjanus__plugin.html">janus_plugin</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#a2379d37b0d1026297202f660b341e6d5">janus_plugin_find</a> (const gchar *package)</td></tr>
<tr class="memdesc:a2379d37b0d1026297202f660b341e6d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to return a registered plugin instance out of its package name.  <a href="#a2379d37b0d1026297202f660b341e6d5">More...</a><br/></td></tr>
<tr class="separator:a2379d37b0d1026297202f660b341e6d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8959472ae8ac81061028a6de263d503"><td class="memItemLeft" align="right" valign="top">gint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#ad8959472ae8ac81061028a6de263d503">main</a> (int argc, char *argv[])</td></tr>
<tr class="separator:ad8959472ae8ac81061028a6de263d503"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab5a71c2541c377b3d5b34fdb35964c2e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#ab5a71c2541c377b3d5b34fdb35964c2e">log_level</a> = 0</td></tr>
<tr class="separator:ab5a71c2541c377b3d5b34fdb35964c2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Plugin callback interface</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp1d91cb4465758ce25aefc58f59d6cb1b"></a>These are the callbacks implemented by the gateway core, as part of the <a class="el" href="structjanus__callbacks.html" title="Callbacks to contact the gateway.">janus_callbacks</a> interface. Everything the plugins send the gateway is handled here. </p>
</td></tr>
<tr class="memitem:a7dc6c32d4a89cd15c404cc80d4df304c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#a7dc6c32d4a89cd15c404cc80d4df304c">janus_push_event</a> (<a class="el" href="structjanus__plugin__session.html">janus_plugin_session</a> *handle, <a class="el" href="structjanus__plugin.html">janus_plugin</a> *plugin, char *transaction, char *message, char *sdp_type, char *sdp)</td></tr>
<tr class="separator:a7dc6c32d4a89cd15c404cc80d4df304c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47aaebddff3aacd23a024459460b990a"><td class="memItemLeft" align="right" valign="top">json_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#a47aaebddff3aacd23a024459460b990a">janus_handle_sdp</a> (<a class="el" href="structjanus__plugin__session.html">janus_plugin_session</a> *handle, <a class="el" href="structjanus__plugin.html">janus_plugin</a> *plugin, char *sdp_type, char *sdp)</td></tr>
<tr class="separator:a47aaebddff3aacd23a024459460b990a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad264ebc11f3df6fe38d53f4565f674be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#ad264ebc11f3df6fe38d53f4565f674be">janus_relay_rtp</a> (<a class="el" href="structjanus__plugin__session.html">janus_plugin_session</a> *handle, int video, char *buf, int len)</td></tr>
<tr class="separator:ad264ebc11f3df6fe38d53f4565f674be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e040f3602441d7cd832a353d8c8f2d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#a2e040f3602441d7cd832a353d8c8f2d3">janus_relay_rtcp</a> (<a class="el" href="structjanus__plugin__session.html">janus_plugin_session</a> *handle, int video, char *buf, int len)</td></tr>
<tr class="separator:a2e040f3602441d7cd832a353d8c8f2d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad568341c8f9f702bf13d11253e5f4cdd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#ad568341c8f9f702bf13d11253e5f4cdd">janus_relay_data</a> (<a class="el" href="structjanus__plugin__session.html">janus_plugin_session</a> *handle, char *buf, int len)</td></tr>
<tr class="separator:ad568341c8f9f702bf13d11253e5f4cdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2469a39c9bb3c25843c39a64372bb0dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#a2469a39c9bb3c25843c39a64372bb0dc">janus_close_pc</a> (<a class="el" href="structjanus__plugin__session.html">janus_plugin_session</a> *handle)</td></tr>
<tr class="separator:a2469a39c9bb3c25843c39a64372bb0dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73d600611816ff367af41814559a05b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="janus_8c.html#a73d600611816ff367af41814559a05b2">janus_end_session</a> (<a class="el" href="structjanus__plugin__session.html">janus_plugin_session</a> *handle)</td></tr>
<tr class="separator:a73d600611816ff367af41814559a05b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Janus core. </p>
<dl class="section author"><dt>Author</dt><dd>Lorenzo Miniero <a href="#" onclick="location.href='mai'+'lto:'+'lor'+'en'+'zo@'+'me'+'ete'+'ch'+'o.c'+'om'; return false;">loren<span style="display: none;">.nosp@m.</span>zo@m<span style="display: none;">.nosp@m.</span>eetec<span style="display: none;">.nosp@m.</span>ho.c<span style="display: none;">.nosp@m.</span>om</a> </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>GNU General Public License v3</dd></dl>
<p>Implementation of the gateway core. This code takes care of the gateway initialization (command line/configuration) and setup, and implements the web server (based on libmicrohttpd) and Janus protocol (a JSON protocol implemented with Jansson) to interact with the web applications. The core also takes care of bridging peers and plugins accordingly.</p>
<p><a class="el" href="group__core.html">Core</a> </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="aafab312c087c0bdc5d4d2966d84a4264"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JANUS_AUTHOR&#160;&#160;&#160;&quot;Meetecho s.r.l.&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5e8bd05ce7ef1ce839841c2a9d3515b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JANUS_NAME&#160;&#160;&#160;&quot;Janus WebRTC Gateway&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5aa2b2fa3e8eebb1b112d599b154b3d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JANUS_VERSION&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="afd1368051b63c2d6307df98f7b06268d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JANUS_VERSION_STRING&#160;&#160;&#160;&quot;0.0.4&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3e344464ec3db9d477ea947555d7e7b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SESSION_TIMEOUT&#160;&#160;&#160;60		/* FIXME Should this be higher, e.g., 120 seconds? */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a2469a39c9bb3c25843c39a64372bb0dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void janus_close_pc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjanus__plugin__session.html">janus_plugin_session</a> *&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a73d600611816ff367af41814559a05b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void janus_end_session </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjanus__plugin__session.html">janus_plugin_session</a> *&#160;</td>
          <td class="paramname"><em>handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a819d13307a0dd4ccd6a9fb9fca7c8bd1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gchar* janus_get_local_ip </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper method to return the local IP address (autodetected by default) </p>

</div>
</div>
<a class="anchor" id="a62aa4ec368311be715b36fe1b972e5cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gchar* janus_get_public_ip </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper method to return the IP address to use in the SDP (autodetected by default) </p>

</div>
</div>
<a class="anchor" id="a5a1814e1f55d232b26c17d2093480a4a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gchar* janus_get_server_key </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper method to return the path to the provided server certificate key. </p>

</div>
</div>
<a class="anchor" id="a4fa0fafa7850f0d4d51acdf994b1b4cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gchar* janus_get_server_pem </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper method to return the path to the provided server certificate. </p>

</div>
</div>
<a class="anchor" id="a47aaebddff3aacd23a024459460b990a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">json_t * janus_handle_sdp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjanus__plugin__session.html">janus_plugin_session</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjanus__plugin.html">janus_plugin</a> *&#160;</td>
          <td class="paramname"><em>plugin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sdp_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sdp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac72c6225354cf9861aabd44fee02ca68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void janus_handle_signal </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>signum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal handler (just used to intercept CTRL+C) </p>

</div>
</div>
<a class="anchor" id="a0b51f93a7e5627308cc9e49025be523c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gint janus_is_stopping </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper method to check whether the gateway is being shut down. </p>

</div>
</div>
<a class="anchor" id="aa8eaff57a2a2524bc9504ee2dedf10dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void janus_plugin_close </td>
          <td>(</td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2379d37b0d1026297202f660b341e6d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structjanus__plugin.html">janus_plugin</a>* janus_plugin_find </td>
          <td>(</td>
          <td class="paramtype">const gchar *&#160;</td>
          <td class="paramname"><em>package</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to return a registered plugin instance out of its package name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">package</td><td>The unique package name of the plugin </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The plugin instance </dd></dl>

</div>
</div>
<a class="anchor" id="a6327332a0e32d79aa68d32c276a8d293"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void janus_pluginso_close </td>
          <td>(</td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8304db5951d072b9bb917ae74a2de471"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int janus_process_error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjanus__request__source.html">janus_request_source</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gint&#160;</td>
          <td class="paramname"><em>error</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to return an error Janus response message (JSON) to the browser. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">source</td><td>The source that originated the request </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">transaction</td><td>The Janus transaction identifier </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">error</td><td>The error code as defined in <a class="el" href="apierror_8h.html" title="Janus API errors definition.">apierror.h</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">format</td><td>The printf format of the reason string, followed by a variable number of arguments, if needed; if format is NULL, a pre-configured string associated with the error code is used </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MHD_YES on success, MHD_NO otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a4d91e8b7c6a03a07c4b53dab3582f708"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int janus_process_incoming_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjanus__request__source.html">janus_request_source</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">json_t *&#160;</td>
          <td class="paramname"><em>request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper to process an incoming request, no matter where it comes from. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">source</td><td>The source that originated the request </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>The JSON request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MHD_YES on success, MHD_NO otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a92b8b3a545ec83ad34c2db77ee9b967e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int janus_process_success </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjanus__request__source.html">janus_request_source</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to return a successful Janus response message (JSON) to the browser. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">source</td><td>The source that originated the request </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">transaction</td><td>The Janus transaction identifier </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">payload</td><td>The stringified version of the Janus response (JSON) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MHD_YES on success, MHD_NO otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a7dc6c32d4a89cd15c404cc80d4df304c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int janus_push_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjanus__plugin__session.html">janus_plugin_session</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structjanus__plugin.html">janus_plugin</a> *&#160;</td>
          <td class="paramname"><em>plugin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sdp_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>sdp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad568341c8f9f702bf13d11253e5f4cdd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void janus_relay_data </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjanus__plugin__session.html">janus_plugin_session</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2e040f3602441d7cd832a353d8c8f2d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void janus_relay_rtcp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjanus__plugin__session.html">janus_plugin_session</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>video</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad264ebc11f3df6fe38d53f4565f674be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void janus_relay_rtp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjanus__plugin__session.html">janus_plugin_session</a> *&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>video</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aef21c805db4c126945e0030053cede13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structjanus__session.html">janus_session</a>* janus_session_create </td>
          <td>(</td>
          <td class="paramtype">guint64&#160;</td>
          <td class="paramname"><em>session_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to create a new Janus Gateway-Client session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">session_id</td><td>The desired Janus Gateway-Client session ID, or 0 if it needs to be generated randomly </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The created Janus Gateway-Client session if successful, NULL otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="adcd05e074a1d76d342ffd613409402ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gint janus_session_destroy </td>
          <td>(</td>
          <td class="paramtype">guint64&#160;</td>
          <td class="paramname"><em>session_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to destroy a Janus Gateway-Client session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">session_id</td><td>The Janus Gateway-Client session ID to destroy </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 in case of success, a negative integer otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a58ab77de530f2376661a2cbbe8d60137"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structjanus__session.html">janus_session</a>* janus_session_find </td>
          <td>(</td>
          <td class="paramtype">guint64&#160;</td>
          <td class="paramname"><em>session_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to find an existing Janus Gateway-Client session from its ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">session_id</td><td>The Janus Gateway-Client session ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The created Janus Gateway-Client session if successful, NULL otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="aea9f5bed2809be66e16a1fdff5f21d89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void janus_session_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjanus__session.html">janus_session</a> *&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to actually free the resources allocated by a Janus Gateway-Client session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">session</td><td>The Janus Gateway-Client session instance to free </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a77d6c93f18e1219bab4de772b5f3c294"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * janus_sessions_watchdog </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a982d4746e52a24a4b4b4d9fe89771a4b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void janus_set_public_ip </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ip</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper method to overwrite the IP address to use in the SDP. </p>

</div>
</div>
<a class="anchor" id="a07aaf3636698a77b3ae2be32e1bab183"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int janus_ws_handler </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct MHD_Connection *&#160;</td>
          <td class="paramname"><em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>upload_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>upload_data_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback (libmicrohttpd) invoked when an HTTP message (GET, POST, OPTIONS, etc.) is available. </p>

</div>
</div>
<a class="anchor" id="a852c78e87fd35078590aef27eb28ecb8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int janus_ws_headers </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum MHD_ValueKind&#160;</td>
          <td class="paramname"><em>kind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback (libmicrohttpd) invoked when headers of an incoming HTTP message have been parsed. </p>

</div>
</div>
<a class="anchor" id="a2561026e3fe9da0cb8110b1fce41c566"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int janus_ws_notifier </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structjanus__request__source.html">janus_request_source</a> *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_events</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Worker to handle requests that are actually long polls. </p>
<p>As this method handles a long poll, it doesn't return until an event (e.g., pushed by a plugin) is available, or a timeout (30 seconds) has been fired. In case of a timeout, a keep-alive Janus response (JSON) is sent to tell the browser that the session is still valid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">source</td><td>The <a class="el" href="structjanus__request__source.html" title="Helper to address request sources (e.g., a specific HTTP connection or websocket)">janus_request_source</a> instance that is handling the request </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_events</td><td>The maximum number of events that can be returned in a single response (by default just one; if more, an array is returned) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MHD_YES on success, MHD_NO otherwise </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000006">Todo:</a></b></dt><dd>Improve the Janus protocol keep-alive mechanism in JavaScript </dd></dl>

</div>
</div>
<a class="anchor" id="abc9f9e96a9b7d3f8df0fd9f4b912385a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void janus_ws_request_completed </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct MHD_Connection *&#160;</td>
          <td class="paramname"><em>connection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>con_cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum MHD_RequestTerminationCode&#160;</td>
          <td class="paramname"><em>toe</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback (libmicrohttpd) invoked when a request has been processed and can be freed. </p>

</div>
</div>
<a class="anchor" id="ad8959472ae8ac81061028a6de263d503"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gint main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ab5a71c2541c377b3d5b34fdb35964c2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_level = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.3.1-->
<!-- start footer part -->
<div class="footer container">
<hr class="footer"/>
Janus WebRTC Gateway &copy; <a target="_blank" href="http://www.meetecho.com/">Meetecho</a> 2014
</div>
</body>

<!-- Mirrored from janus.conf.meetecho.com/docs/janus_8c.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 25 Jul 2014 16:31:06 GMT -->
</html>
